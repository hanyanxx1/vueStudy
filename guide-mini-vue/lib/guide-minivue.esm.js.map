{"version":3,"file":"guide-minivue.esm.js","sources":["../src/runtime-core/vnode.ts","../src/runtime-core/h.ts","../src/shared/src/index.ts","../src/reactivity/effect.ts","../src/reactivity/baseHandlers.ts","../src/reactivity/reactive.ts","../src/runtime-core/componentEmits.ts","../src/runtime-core/componentProps.ts","../src/runtime-core/componentPublicInstance.ts","../src/runtime-core/component.ts","../src/runtime-core/renderer.ts","../src/runtime-core/createApp.ts"],"sourcesContent":["import { ShapeFlags } from \"../shared/src/shapeFlags\";\n\nexport const createVNode = function (\n  type: any,\n  props?: any,\n  children?: string | Array<any>\n) {\n  // 注意 type 有可能是 string 也有可能是对象\n  // 如果是对象的话，那么就是用户设置的 options\n  // type 为 string 的时候\n  // createVNode(\"div\")\n  // type 为组件对象的时候\n  // createVNode(App)\n  const vnode = {\n    type,\n    props: props || {},\n    children,\n    shapeFlag: getShapeFlag(type),\n    el: null,\n  };\n\n  if (typeof children === \"string\") {\n    vnode.shapeFlag |= ShapeFlags.TEXT_CHILDREN;\n  } else if (Array.isArray(children)) {\n    vnode.shapeFlag |= ShapeFlags.ARRAY_CHILDREN;\n  }\n\n  return vnode;\n};\n\nfunction getShapeFlag(type) {\n  return typeof type === \"string\"\n    ? ShapeFlags.ELEMENT\n    : ShapeFlags.STATEFUL_COMPONENT;\n}\n","import { createVNode } from \"./vnode\";\nexport const h = (\n  type: any,\n  props: any = null,\n  children: string | Array<any> = []\n) => {\n  return createVNode(type, props, children);\n};\n","export const isObject = (val) => {\n  return val !== null && typeof val === \"object\";\n};\n\nexport const extend = Object.assign;\n\nexport function hasChanged(value, oldValue) {\n  return !Object.is(value, oldValue);\n}\n\nexport function hasOwn(val, key) {\n  return Object.prototype.hasOwnProperty.call(val, key);\n}\n\nexport const camelize = (str: string) => {\n  return str.replace(/-(\\w)/g, (_, c: string) => {\n    return c ? c.toUpperCase() : \"\";\n  });\n};\n\nexport const capitalize = (str: string) => {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n};\n\nexport const toHandlerKey = (str: string) => {\n  return str ? \"on\" + capitalize(str) : \"\";\n};","import { extend } from \"../shared/src\";\n\nlet activeEffect;\nlet shouldTrack;\nconst targetMap = new WeakMap();\n\nexport class ReactiveEffect {\n  private _fn: any;\n  active = true;\n  deps = [];\n  onStop?: () => void;\n  constructor(fn, public scheduler?) {\n    this._fn = fn;\n  }\n\n  run() {\n    console.log(\"run\");\n    // 运行 run 的时候，可以控制 要不要执行后续收集依赖的一步\n    // 目前来看的话，只要执行了 fn 那么就默认执行了收集依赖\n    // 这里就需要控制了\n\n    // 是不是收集依赖的变量\n\n    // 执行 fn  但是不收集依赖\n    if (!this.active) {\n      return this._fn();\n    }\n\n    // 执行 fn  收集依赖\n    // 可以开始收集依赖了\n    shouldTrack = true;\n\n    // 执行的时候给全局的 activeEffect 赋值\n    // 利用全局属性来获取当前的 effect\n    activeEffect = this as any;\n    // 执行用户传入的 fn\n    console.log(\"执行用户传入的 fn\");\n    const result = this._fn();\n    // 重置\n    shouldTrack = false;\n\n    return result;\n  }\n\n  stop() {\n    if (this.active) {\n      // 如果第一次执行 stop 后 active 就 false 了\n      // 这是为了防止重复的调用，执行 stop 逻辑\n      cleanupEffect(this);\n      if (this.onStop) {\n        this.onStop();\n      }\n      this.active = false;\n    }\n  }\n}\n\nfunction cleanupEffect(effect) {\n  // 找到所有依赖这个 effect 的响应式对象\n  // 从这些响应式对象里面把 effect 给删除掉\n  effect.deps.forEach((dep) => {\n    dep.delete(effect);\n  });\n\n  effect.deps.length = 0;\n}\n\nexport function effect(fn, options: any = {}) {\n  const _effect = new ReactiveEffect(fn, options.scheduler);\n\n  Object.assign(_effect, options);\n  extend(_effect, options);\n  _effect.run();\n\n  const runner: any = _effect.run.bind(_effect);\n  runner.effect = _effect;\n  return runner;\n}\n\nexport function stop(runner) {\n  runner.effect.stop();\n}\n\nexport function track(target, key) {\n  if (!isTracking()) {\n    return;\n  }\n\n  // 1. 先基于 target 找到对应的 dep\n  // 如果是第一次的话，那么就需要初始化\n  let depsMap = targetMap.get(target);\n  if (!depsMap) {\n    // 初始化 depsMap 的逻辑\n    depsMap = new Map();\n    targetMap.set(target, depsMap);\n  }\n\n  let dep = depsMap.get(key);\n\n  if (!dep) {\n    dep = new Set();\n\n    depsMap.set(key, dep);\n  }\n\n  trackEffects(dep);\n}\n\nexport function trackEffects(dep) {\n  if (!dep.has(activeEffect)) {\n    dep.add(activeEffect);\n    activeEffect.deps.push(dep);\n  }\n}\n\nexport function trigger(target, key) {\n  const depsMap = targetMap.get(target);\n  const dep = depsMap.get(key);\n  triggerEffects(dep);\n}\n\nexport function isTracking() {\n  return shouldTrack && activeEffect !== undefined;\n}\n\nexport function triggerEffects(dep) {\n  for (const effect of dep) {\n    if (effect.scheduler) {\n      effect.scheduler();\n    } else {\n      effect.run();\n    }\n  }\n}\n","import { isObject } from \"../shared/src\";\nimport { track, trigger } from \"./effect\";\nimport { reactive, ReactiveFlags, readonly } from \"./reactive\";\n\nconst get = createGetter();\nconst set = createSetter();\nconst readonlyGet = createGetter(true);\nconst shallowReadonlyGet = createGetter(true, true);\n\nfunction createGetter(isReadonly = false, shallow = false) {\n  return function get(target, key) {\n    if (key === ReactiveFlags.IS_REACTIVE) {\n      return !isReadonly;\n    } else if (key === ReactiveFlags.IS_READONLY) {\n      return isReadonly;\n    }\n\n    const res = Reflect.get(target, key);\n\n    // 问题：为什么是 readonly 的时候不做依赖收集呢\n    // readonly 的话，是不可以被 set 的， 那不可以被 set 就意味着不会触发 trigger\n    // 所有就没有收集依赖的必要了\n\n    if (!isReadonly) {\n      track(target, key);\n    }\n\n    if (shallow) {\n      return res;\n    }\n\n    if (isObject(res)) {\n      // 把内部所有的是 object 的值都用 reactive 包裹，变成响应式对象\n      // 如果说这个 res 值是一个对象的话，那么我们需要把获取到的 res 也转换成 reactive\n      // res 等于 target[key]\n      return isReadonly ? readonly(res) : reactive(res);\n    }\n\n    return res;\n  };\n}\n\nfunction createSetter() {\n  return function set(target, key, value) {\n    const res = Reflect.set(target, key, value);\n\n    trigger(target, key);\n    return res;\n  };\n}\n\nexport const mutableHandlers = {\n  get,\n  set,\n};\n\nexport const readonlyHandlers = {\n  get: readonlyGet,\n  set(target, key, value) {\n    // readonly 的响应式对象不可以修改值\n    console.warn(\n      `Set operation on key \"${String(key)}\" failed: target is readonly.`,\n      target\n    );\n    return true;\n  },\n};\n\nexport const shallowReadonlyHandlers = {\n  get: shallowReadonlyGet,\n  set(target, key) {\n    // readonly 的响应式对象不可以修改值\n    console.warn(\n      `Set operation on key \"${String(key)}\" failed: target is readonly.`,\n      target\n    );\n    return true;\n  },\n};\n","import {\n  mutableHandlers,\n  readonlyHandlers,\n  shallowReadonlyHandlers,\n} from \"./baseHandlers\";\n\nexport const enum ReactiveFlags {\n  IS_REACTIVE = \"__v_isReactive\",\n  IS_READONLY = \"__v_isReadonly\",\n}\n\nexport function reactive(target) {\n  return createReactiveObject(target, mutableHandlers);\n}\n\nexport function readonly(target) {\n  return createReactiveObject(target, readonlyHandlers);\n}\n\nexport function shallowReadonly(target) {\n  return createReactiveObject(target, shallowReadonlyHandlers);\n}\n\nexport function isProxy(value) {\n  return isReactive(value) || isReadonly(value);\n}\n\nexport function isReadonly(value) {\n  return !!value[ReactiveFlags.IS_READONLY];\n}\n\nexport function isReactive(value) {\n  // 如果 value 是 proxy 的话\n  // 会触发 get 操作，而在 createGetter 里面会判断\n  // 如果 value 是普通对象的话\n  // 那么会返回 undefined ，那么就需要转换成布尔值\n  return !!value[ReactiveFlags.IS_REACTIVE];\n}\n\nfunction createReactiveObject(target, baseHandlers) {\n  return new Proxy(target, baseHandlers);\n}\n","import { camelize, toHandlerKey } from \"../shared/src\";\n\nexport function emit(instance, event, ...rawArgs) {\n  const { props } = instance;\n\n  const handler = props[toHandlerKey(camelize(event))];\n  if (handler) {\n    handler(...rawArgs);\n  }\n}\n","export function initProps(instance, rawProps) {\n  instance.props = rawProps || {};\n}\n","import { hasOwn } from \"../shared/src\";\n\nconst publicPropertiesMap = {\n  $el: (i) => i.vnode.el,\n};\n\nexport const PublicInstanceProxyHandlers = {\n  get({ _: instance }, key) {\n    const { setupState, props } = instance;\n    if (key in setupState) {\n      return setupState[key];\n    }\n\n    if (hasOwn(setupState, key)) {\n      return setupState[key];\n    } else if (hasOwn(props, key)) {\n      return props[key];\n    }\n\n    const publicGetter = publicPropertiesMap[key];\n    if (publicGetter) {\n      return publicGetter(instance);\n    }\n  },\n};\n","import { shallowReadonly } from \"../reactivity/reactive\";\nimport { emit } from \"./componentEmits\";\nimport { initProps } from \"./componentProps\";\nimport { PublicInstanceProxyHandlers } from \"./componentPublicInstance\";\n\nexport function createComponentInstance(vnode) {\n  const instance = {\n    vnode,\n    type: vnode.type,\n    setupState: {},\n    props: {},\n    emit: () => {},\n  };\n\n  instance.emit = emit.bind(null, instance) as any;\n\n  return instance;\n}\n\nexport function setupComponent(instance) {\n  initProps(instance, instance.vnode.props);\n\n  setupStatefulComponent(instance);\n}\n\nfunction setupStatefulComponent(instance) {\n  const Component = instance.type;\n\n  instance.proxy = new Proxy({ _: instance }, PublicInstanceProxyHandlers);\n\n  const { setup } = Component;\n  if (setup) {\n    const setupResult =\n      setup && setup(shallowReadonly(instance.props), { emit: instance.emit });\n\n    handleSetupResult(instance, setupResult);\n  }\n}\n\nfunction handleSetupResult(instance, setupResult) {\n  if (typeof setupResult === \"object\") {\n    instance.setupState = setupResult;\n  }\n\n  finishComponentSetup(instance);\n}\n\nfunction finishComponentSetup(instance) {\n  const Component = instance.type;\n\n  instance.render = Component.render;\n}\n","import { isObject } from \"../shared/src\";\nimport { ShapeFlags } from \"../shared/src/shapeFlags\";\nimport { createComponentInstance, setupComponent } from \"./component\";\n\nexport function render(vnode, container) {\n  patch(vnode, container);\n}\n\nfunction patch(vnode, container) {\n  const { shapeFlag } = vnode;\n  if (shapeFlag & ShapeFlags.ELEMENT) {\n    processElement(vnode, container);\n  } else if (shapeFlag & ShapeFlags.STATEFUL_COMPONENT) {\n    processComponent(vnode, container);\n  }\n}\n\nfunction processElement(vnode, container) {\n  mountElement(vnode, container);\n}\n\nfunction mountElement(vnode, container) {\n  const el = (vnode.el = document.createElement(vnode.type));\n\n  const { children, shapeFlag } = vnode;\n\n  if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n    el.textContent = children;\n  } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n    mountChildren(vnode, el);\n  }\n\n  const { props } = vnode;\n  for (const key in props) {\n    const val = props[key];\n    const isOn = (key: string) => /^on[A-Z]/.test(key);\n    if (isOn(key)) {\n      const event = key.slice(2).toLowerCase();\n      el.addEventListener(event, val);\n    } else {\n      el.setAttribute(key, val);\n    }\n  }\n\n  container.append(el);\n}\n\nfunction mountChildren(vnode, container) {\n  vnode.children.forEach((v) => {\n    patch(v, container);\n  });\n}\n\nfunction processComponent(vnode, container) {\n  mountComponent(vnode, container);\n}\n\nfunction mountComponent(initialVNode, container) {\n  const instance = createComponentInstance(initialVNode);\n\n  setupComponent(instance);\n\n  setupRenderEffect(instance, initialVNode, container);\n}\n\nfunction setupRenderEffect(instance, initialVNode, container) {\n  const { proxy } = instance;\n  const subTree = instance.render.call(proxy);\n\n  patch(subTree, container);\n\n  initialVNode.el = subTree.el;\n}\n","import { render } from \"./renderer\";\nimport { createVNode } from \"./vnode\";\n\nexport function createApp(rootComponent) {\n  const app = {\n    mount(rootContainer) {\n      const vnode = createVNode(rootComponent);\n      render(vnode, rootContainer);\n    },\n  };\n  return app;\n}\n"],"names":[],"mappings":"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"}