{"version":3,"file":"guide-minivue.esm.js","sources":["../src/runtime-core/vnode.ts","../src/runtime-core/h.ts","../src/runtime-core/createApp.ts","../src/shared/src/index.ts","../src/reactivity/effect.ts","../src/reactivity/baseHandlers.ts","../src/reactivity/reactive.ts","../src/reactivity/ref.ts","../src/reactivity/computed.ts","../src/runtime-core/componentEmits.ts","../src/runtime-core/componentProps.ts","../src/runtime-core/componentPublicInstance.ts","../src/runtime-core/componentSlots.ts","../src/runtime-core/component.ts","../src/runtime-core/helpers/renderSlot.ts","../src/runtime-core/apiInject.ts","../src/runtime-core/componentRenderUtils.ts","../src/runtime-core/renderer.ts","../src/runtime-dom/index.ts"],"sourcesContent":["import { ShapeFlags } from \"../shared/src/shapeFlags\";\n\nexport const createVNode = function (\n  type: any,\n  props?: any,\n  children?: string | Array<any>\n) {\n  // 注意 type 有可能是 string 也有可能是对象\n  // 如果是对象的话，那么就是用户设置的 options\n  // type 为 string 的时候\n  // createVNode(\"div\")\n  // type 为组件对象的时候\n  // createVNode(App)\n  const vnode = {\n    type,\n    props: props || {},\n    children,\n    component: null,\n    key: props?.key,\n    shapeFlag: getShapeFlag(type),\n    el: null,\n  };\n\n  if (typeof children === \"string\") {\n    vnode.shapeFlag |= ShapeFlags.TEXT_CHILDREN;\n  } else if (Array.isArray(children)) {\n    vnode.shapeFlag |= ShapeFlags.ARRAY_CHILDREN;\n  }\n\n  if (vnode.shapeFlag & ShapeFlags.STATEFUL_COMPONENT) {\n    if (typeof children === \"object\") {\n      vnode.shapeFlag |= ShapeFlags.SLOTS_CHILDREN;\n    }\n  }\n\n  return vnode;\n};\n\nexport const Text = Symbol(\"Text\");\nexport const Fragment = Symbol(\"Fragment\");\n\nexport function createTextVNode(text: string = \"\") {\n  return createVNode(Text, {}, text);\n}\n\nfunction getShapeFlag(type) {\n  return typeof type === \"string\"\n    ? ShapeFlags.ELEMENT\n    : ShapeFlags.STATEFUL_COMPONENT;\n}\n","import { createVNode } from \"./vnode\";\nexport const h = (\n  type: any,\n  props: any = null,\n  children: string | Array<any> = []\n) => {\n  return createVNode(type, props, children);\n};\n","import { createVNode } from \"./vnode\";\n\nexport function createAppAPI(render) {\n  return function createApp(rootComponent) {\n    const app = {\n      mount(rootContainer) {\n        const vnode = createVNode(rootComponent);\n        render(vnode, rootContainer);\n      },\n    };\n    return app;\n  };\n}\n","export const isObject = (val) => {\n  return val !== null && typeof val === \"object\";\n};\n\nexport const extend = Object.assign;\n\nexport function hasChanged(value, oldValue) {\n  return !Object.is(value, oldValue);\n}\n\nexport function hasOwn(val, key) {\n  return Object.prototype.hasOwnProperty.call(val, key);\n}\n\nexport const camelize = (str: string) => {\n  return str.replace(/-(\\w)/g, (_, c: string) => {\n    return c ? c.toUpperCase() : \"\";\n  });\n};\n\nexport const capitalize = (str: string) => {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n};\n\nexport const toHandlerKey = (str: string) => {\n  return str ? \"on\" + capitalize(str) : \"\";\n};","import { extend } from \"../shared/src\";\n\nlet activeEffect;\nlet shouldTrack;\nconst targetMap = new WeakMap();\n\nexport class ReactiveEffect {\n  private _fn: any;\n  active = true;\n  deps = [];\n  onStop?: () => void;\n  constructor(fn, public scheduler?) {\n    this._fn = fn;\n  }\n\n  run() {\n    // 运行 run 的时候，可以控制 要不要执行后续收集依赖的一步\n    // 目前来看的话，只要执行了 fn 那么就默认执行了收集依赖\n    // 这里就需要控制了\n\n    // 是不是收集依赖的变量\n\n    // 执行 fn  但是不收集依赖\n    if (!this.active) {\n      return this._fn();\n    }\n\n    // 执行 fn  收集依赖\n    // 可以开始收集依赖了\n    shouldTrack = true;\n\n    // 执行的时候给全局的 activeEffect 赋值\n    // 利用全局属性来获取当前的 effect\n    activeEffect = this as any;\n    // 执行用户传入的 fn\n    const result = this._fn();\n    // 重置\n    shouldTrack = false;\n\n    return result;\n  }\n\n  stop() {\n    if (this.active) {\n      // 如果第一次执行 stop 后 active 就 false 了\n      // 这是为了防止重复的调用，执行 stop 逻辑\n      cleanupEffect(this);\n      if (this.onStop) {\n        this.onStop();\n      }\n      this.active = false;\n    }\n  }\n}\n\nfunction cleanupEffect(effect) {\n  // 找到所有依赖这个 effect 的响应式对象\n  // 从这些响应式对象里面把 effect 给删除掉\n  effect.deps.forEach((dep) => {\n    dep.delete(effect);\n  });\n\n  effect.deps.length = 0;\n}\n\nexport function effect(fn, options: any = {}) {\n  const _effect = new ReactiveEffect(fn, options.scheduler);\n\n  Object.assign(_effect, options);\n  extend(_effect, options);\n  _effect.run();\n\n  const runner: any = _effect.run.bind(_effect);\n  runner.effect = _effect;\n  return runner;\n}\n\nexport function stop(runner) {\n  runner.effect.stop();\n}\n\nexport function track(target, key) {\n  if (!isTracking()) {\n    return;\n  }\n\n  // 1. 先基于 target 找到对应的 dep\n  // 如果是第一次的话，那么就需要初始化\n  let depsMap = targetMap.get(target);\n  if (!depsMap) {\n    // 初始化 depsMap 的逻辑\n    depsMap = new Map();\n    targetMap.set(target, depsMap);\n  }\n\n  let dep = depsMap.get(key);\n\n  if (!dep) {\n    dep = new Set();\n\n    depsMap.set(key, dep);\n  }\n\n  trackEffects(dep);\n}\n\nexport function trackEffects(dep) {\n  if (!dep.has(activeEffect)) {\n    dep.add(activeEffect);\n    activeEffect.deps.push(dep);\n  }\n}\n\nexport function trigger(target, key) {\n  const depsMap = targetMap.get(target);\n  const dep = depsMap.get(key);\n  triggerEffects(dep);\n}\n\nexport function isTracking() {\n  return shouldTrack && activeEffect !== undefined;\n}\n\nexport function triggerEffects(dep) {\n  for (const effect of dep) {\n    if (effect.scheduler) {\n      effect.scheduler();\n    } else {\n      effect.run();\n    }\n  }\n}\n","import { isObject } from \"../shared/src\";\nimport { track, trigger } from \"./effect\";\nimport { reactive, ReactiveFlags, readonly } from \"./reactive\";\n\nconst get = createGetter();\nconst set = createSetter();\nconst readonlyGet = createGetter(true);\nconst shallowReadonlyGet = createGetter(true, true);\n\nfunction createGetter(isReadonly = false, shallow = false) {\n  return function get(target, key) {\n    if (key === ReactiveFlags.IS_REACTIVE) {\n      return !isReadonly;\n    } else if (key === ReactiveFlags.IS_READONLY) {\n      return isReadonly;\n    }\n\n    const res = Reflect.get(target, key);\n\n    // 问题：为什么是 readonly 的时候不做依赖收集呢\n    // readonly 的话，是不可以被 set 的， 那不可以被 set 就意味着不会触发 trigger\n    // 所有就没有收集依赖的必要了\n\n    if (!isReadonly) {\n      track(target, key);\n    }\n\n    if (shallow) {\n      return res;\n    }\n\n    if (isObject(res)) {\n      // 把内部所有的是 object 的值都用 reactive 包裹，变成响应式对象\n      // 如果说这个 res 值是一个对象的话，那么我们需要把获取到的 res 也转换成 reactive\n      // res 等于 target[key]\n      return isReadonly ? readonly(res) : reactive(res);\n    }\n\n    return res;\n  };\n}\n\nfunction createSetter() {\n  return function set(target, key, value) {\n    const res = Reflect.set(target, key, value);\n\n    trigger(target, key);\n    return res;\n  };\n}\n\nexport const mutableHandlers = {\n  get,\n  set,\n};\n\nexport const readonlyHandlers = {\n  get: readonlyGet,\n  set(target, key, value) {\n    // readonly 的响应式对象不可以修改值\n    console.warn(\n      `Set operation on key \"${String(key)}\" failed: target is readonly.`,\n      target\n    );\n    return true;\n  },\n};\n\nexport const shallowReadonlyHandlers = {\n  get: shallowReadonlyGet,\n  set(target, key) {\n    // readonly 的响应式对象不可以修改值\n    console.warn(\n      `Set operation on key \"${String(key)}\" failed: target is readonly.`,\n      target\n    );\n    return true;\n  },\n};\n","import {\n  mutableHandlers,\n  readonlyHandlers,\n  shallowReadonlyHandlers,\n} from \"./baseHandlers\";\n\nexport const enum ReactiveFlags {\n  IS_REACTIVE = \"__v_isReactive\",\n  IS_READONLY = \"__v_isReadonly\",\n}\n\nexport function reactive(target) {\n  return createReactiveObject(target, mutableHandlers);\n}\n\nexport function readonly(target) {\n  return createReactiveObject(target, readonlyHandlers);\n}\n\nexport function shallowReadonly(target) {\n  return createReactiveObject(target, shallowReadonlyHandlers);\n}\n\nexport function isProxy(value) {\n  return isReactive(value) || isReadonly(value);\n}\n\nexport function isReadonly(value) {\n  return !!value[ReactiveFlags.IS_READONLY];\n}\n\nexport function isReactive(value) {\n  // 如果 value 是 proxy 的话\n  // 会触发 get 操作，而在 createGetter 里面会判断\n  // 如果 value 是普通对象的话\n  // 那么会返回 undefined ，那么就需要转换成布尔值\n  return !!value[ReactiveFlags.IS_REACTIVE];\n}\n\nfunction createReactiveObject(target, baseHandlers) {\n  return new Proxy(target, baseHandlers);\n}\n","import { trackEffects, triggerEffects, isTracking } from \"./effect\";\nimport { isObject, hasChanged } from \"../shared/src\";\nimport { reactive } from \"./reactive\";\n\nexport class RefImpl {\n  private _rawValue: any;\n  private _value: any;\n  public dep;\n  public __v_isRef = true;\n\n  constructor(value) {\n    this._rawValue = value;\n    // 看看value 是不是一个对象，如果是一个对象的话\n    // 那么需要用 reactive 包裹一下\n    this._value = convert(value);\n    this.dep = new Set();\n  }\n\n  get value() {\n    // 收集依赖\n    trackRefValue(this);\n    return this._value;\n  }\n\n  set value(newValue) {\n    // 当新的值不等于老的值的话，\n    // 那么才需要触发依赖\n    if (hasChanged(newValue, this._rawValue)) {\n      // 更新值\n      this._value = convert(newValue);\n      this._rawValue = newValue;\n      // 触发依赖\n      triggerRefValue(this);\n    }\n  }\n}\n\nexport function ref(value) {\n  return createRef(value);\n}\n\nfunction convert(value) {\n  return isObject(value) ? reactive(value) : value;\n}\n\nfunction createRef(value) {\n  const refImpl = new RefImpl(value);\n\n  return refImpl;\n}\n\nexport function triggerRefValue(ref) {\n  triggerEffects(ref.dep);\n}\n\nexport function trackRefValue(ref) {\n  if (isTracking()) {\n    trackEffects(ref.dep);\n  }\n}\n\n// 这个函数的目的是\n// 帮助解构 ref\n// 比如在 template 中使用 ref 的时候，直接使用就可以了\n// 例如： const count = ref(0) -> 在 template 中使用的话 可以直接 count\n// 解决方案就是通过 proxy 来对 ref 做处理\n\nconst shallowUnwrapHandlers = {\n  get(target, key, receiver) {\n    // 如果里面是一个 ref 类型的话，那么就返回 .value\n    // 如果不是的话，那么直接返回value 就可以了\n    return unRef(Reflect.get(target, key, receiver));\n  },\n  set(target, key, value, receiver) {\n    const oldValue = target[key];\n    if (isRef(oldValue) && !isRef(value)) {\n      return (target[key].value = value);\n    } else {\n      return Reflect.set(target, key, value, receiver);\n    }\n  },\n};\n\n// 这里没有处理 objectWithRefs 是 reactive 类型的时候\n// TODO reactive 里面如果有 ref 类型的 key 的话， 那么也是不需要调用 ref.value 的\n// （but 这个逻辑在 reactive 里面没有实现）\nexport function proxyRefs(objectWithRefs) {\n  return new Proxy(objectWithRefs, shallowUnwrapHandlers);\n}\n\n// 把 ref 里面的值拿到\nexport function unRef(ref) {\n  return isRef(ref) ? ref.value : ref;\n}\n\nexport function isRef(value) {\n  return !!value.__v_isRef;\n}\n","import { ReactiveEffect } from \"./effect\";\n\nclass ComputedRefImpl {\n  public dep: any;\n  public effect: ReactiveEffect;\n\n  private _dirty: boolean;\n  private _value;\n\n  constructor(getter) {\n    this._dirty = true;\n    this.effect = new ReactiveEffect(getter, () => {\n      // scheduler\n      // 只要触发了这个函数说明响应式对象的值发生改变了\n      // 那么就解锁，后续在调用 get 的时候就会重新执行，所以会得到最新的值\n      if (this._dirty) return;\n\n      this._dirty = true;\n    });\n  }\n\n  get value() {\n    // 锁上，只可以调用一次\n    // 当数据改变的时候才会解锁\n    // 这里就是缓存实现的核心\n    // 解锁是在 scheduler 里面做的\n    if (this._dirty) {\n      this._dirty = false;\n      // 这里执行 run 的话，就是执行用户传入的 fn\n      this._value = this.effect.run();\n    }\n\n    return this._value;\n  }\n}\n\nexport function computed(getter) {\n  return new ComputedRefImpl(getter);\n}\n","import { camelize, toHandlerKey } from \"../shared/src\";\n\nexport function emit(instance, event, ...rawArgs) {\n  const { props } = instance;\n\n  const handler = props[toHandlerKey(camelize(event))];\n  if (handler) {\n    handler(...rawArgs);\n  }\n}\n","export function initProps(instance, rawProps) {\n  instance.props = rawProps || {};\n}\n","import { hasOwn } from \"../shared/src\";\n\nconst publicPropertiesMap = {\n  $el: (i) => i.vnode.el,\n  $slots: (i) => i.slots,\n  $props: (i) => i.props,\n};\n\nexport const PublicInstanceProxyHandlers = {\n  get({ _: instance }, key) {\n    const { setupState, props } = instance;\n    if (key in setupState) {\n      return setupState[key];\n    }\n\n    if (hasOwn(setupState, key)) {\n      return setupState[key];\n    } else if (hasOwn(props, key)) {\n      return props[key];\n    }\n\n    const publicGetter = publicPropertiesMap[key];\n    if (publicGetter) {\n      return publicGetter(instance);\n    }\n  },\n};\n","import { ShapeFlags } from \"../shared/src/shapeFlags\";\n\nexport function initSlots(instance, children) {\n  const { vnode } = instance;\n  if (vnode.shapeFlag & ShapeFlags.SLOTS_CHILDREN) {\n    normalizeObjectSlots(children, instance.slots);\n  }\n}\n\nconst normalizeSlotValue = (value) => {\n  return Array.isArray(value) ? value : [value];\n};\n\nconst normalizeObjectSlots = (children, slots) => {\n  for (const key in children) {\n    const value = children[key];\n    if (typeof value === \"function\") {\n      slots[key] = (props) => normalizeSlotValue(value(props));\n    }\n  }\n};\n","import { proxyRefs } from \"../reactivity\";\nimport { shallowReadonly } from \"../reactivity/reactive\";\nimport { emit } from \"./componentEmits\";\nimport { initProps } from \"./componentProps\";\nimport { PublicInstanceProxyHandlers } from \"./componentPublicInstance\";\nimport { initSlots } from \"./componentSlots\";\n\nexport function createComponentInstance(vnode, parent) {\n  const instance = {\n    vnode,\n    type: vnode.type,\n    next: null,\n    setupState: {},\n    props: {},\n    slots: {},\n    provides: parent ? parent.provides : {},\n    parent,\n    isMounted: false,\n    emit: () => {},\n  };\n\n  instance.emit = emit.bind(null, instance) as any;\n\n  return instance;\n}\n\nexport function setupComponent(instance) {\n  const { props, children } = instance.vnode;\n\n  initProps(instance, props);\n  initSlots(instance, children);\n  setupStatefulComponent(instance);\n}\n\nfunction setupStatefulComponent(instance) {\n  const Component = instance.type;\n\n  instance.proxy = new Proxy({ _: instance }, PublicInstanceProxyHandlers);\n\n  const { setup } = Component;\n  if (setup) {\n    setCurrentInstance(instance);\n    const setupResult =\n      setup && setup(shallowReadonly(instance.props), { emit: instance.emit });\n    setCurrentInstance(null);\n\n    handleSetupResult(instance, setupResult);\n  }\n}\n\nfunction handleSetupResult(instance, setupResult) {\n  if (typeof setupResult === \"function\") {\n    instance.render = setupResult;\n  } else if (typeof setupResult === \"object\") {\n    instance.setupState = proxyRefs(setupResult);\n  }\n\n  finishComponentSetup(instance);\n}\n\nfunction finishComponentSetup(instance) {\n  const Component = instance.type;\n\n  if (!instance.render) {\n    instance.render = Component.render;\n  }\n}\n\nlet currentInstance = null;\nexport function getCurrentInstance() {\n  return currentInstance;\n}\n\nexport function setCurrentInstance(instance) {\n  currentInstance = instance;\n}\n","import { createVNode, Fragment } from \"../vnode\";\n\nexport function renderSlot(slots, name, props) {\n  const slot = slots[name];\n  if (slot) {\n    return createVNode(Fragment, {}, slot(props));\n  }\n}\n","import { getCurrentInstance } from \"./component\";\n\nexport function provide(key, value) {\n  const currentInstance: any = getCurrentInstance();\n  if (currentInstance) {\n    let { provides } = currentInstance;\n\n    const parentProvides = currentInstance.parent?.provides;\n\n    if (provides === parentProvides) {\n      provides = currentInstance.provides = Object.create(parentProvides);\n    }\n\n    provides[key] = value;\n  }\n}\n\nexport function inject(key, defaultValue) {\n  const currentInstance: any = getCurrentInstance();\n\n  if (currentInstance) {\n    const provides = currentInstance.parent?.provides;\n\n    if (key in provides) {\n      return provides[key];\n    } else if (defaultValue) {\n      if (typeof defaultValue === \"function\") {\n        return defaultValue();\n      }\n      return defaultValue;\n    }\n  }\n}\n","export function shouldUpdateComponent(prevVNode, nextVNode) {\n  const { props: prevProps } = prevVNode;\n  const { props: nextProps } = nextVNode;\n\n  for (const key in nextProps) {\n    if (nextProps[key] !== prevProps[key]) {\n      return true;\n    }\n  }\n  return false;\n}\n","import { effect } from \"../reactivity\";\nimport { ShapeFlags } from \"../shared/src/shapeFlags\";\nimport { createComponentInstance, setupComponent } from \"./component\";\nimport { shouldUpdateComponent } from \"./componentRenderUtils\";\nimport { createAppAPI } from \"./createApp\";\nimport { Fragment, Text } from \"./vnode\";\n\nexport function createRenderer(options) {\n  const {\n    createElement: hostCreateElement,\n    setElementText: hostSetElementText,\n    patchProp: hostPatchProp,\n    insert: hostInsert,\n    remove: hostRemove,\n  } = options;\n\n  const render = (vnode, container) => {\n    patch(null, vnode, container);\n  };\n\n  function patch(n1, n2, container, parentComponent = null, anchor = null) {\n    const { type, shapeFlag } = n2;\n\n    switch (type) {\n      case Text:\n        processText(n1, n2, container);\n        break;\n      case Fragment:\n        processFragment(n1, n2, container);\n        break;\n      default:\n        if (shapeFlag & ShapeFlags.ELEMENT) {\n          processElement(n1, n2, container, parentComponent, anchor);\n        } else if (shapeFlag & ShapeFlags.STATEFUL_COMPONENT) {\n          processComponent(n1, n2, container, parentComponent);\n        }\n    }\n  }\n\n  function processFragment(n1, n2, container) {\n    if (!n1) {\n      mountChildren(n2.children, container);\n    }\n  }\n\n  function processText(n1, n2, container) {\n    const { children } = n2;\n    const textNode = (n2.el = document.createTextNode(children));\n    container.append(textNode);\n  }\n\n  function processElement(n1, n2, container, parentComponent, anchor) {\n    if (!n1) {\n      mountElement(n2, container, anchor);\n    } else {\n      updateElement(n1, n2, container, parentComponent, anchor);\n    }\n  }\n\n  function updateElement(n1, n2, container, parentComponent, anchor) {\n    const oldProps = (n1 && n1.props) || {};\n    const newProps = n2.props || {};\n\n    const el = (n2.el = n1.el);\n\n    patchProps(el, oldProps, newProps);\n\n    patchChildren(n1, n2, el, parentComponent, anchor);\n  }\n\n  function patchProps(el, oldProps, newProps) {\n    for (const key in newProps) {\n      const prevProp = oldProps[key];\n      const nextProp = newProps[key];\n      if (prevProp !== newProps) {\n        hostPatchProp(el, key, prevProp, nextProp);\n      }\n    }\n\n    for (const key in oldProps) {\n      const prevProp = oldProps[key];\n      const nextProp = null;\n      if (!(key in newProps)) {\n        hostPatchProp(el, key, prevProp, nextProp);\n      }\n    }\n  }\n\n  function patchChildren(n1, n2, container, parentComponent, anchor) {\n    const { shapeFlag: prevShapeFlag, children: c1 } = n1;\n    const { shapeFlag, children: c2 } = n2;\n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n      if (c2 !== c1) {\n        hostSetElementText(container, c2);\n      }\n    } else {\n      if (prevShapeFlag & ShapeFlags.TEXT_CHILDREN) {\n        hostSetElementText(container, \"\");\n        mountChildren(c2, container);\n      } else {\n        patchKeyedChildren(c1, c2, container, parentComponent, anchor);\n      }\n    }\n  }\n\n  function patchKeyedChildren(\n    c1,\n    c2,\n    container,\n    parentComponent,\n    parentAnchor\n  ) {\n    let i = 0;\n    const l2 = c2.length;\n    let e1 = c1.length - 1;\n    let e2 = l2 - 1;\n\n    const isSameVNodeType = (n1, n2) => {\n      return n1.type === n2.type && n1.key === n2.key;\n    };\n\n    while (i <= e1 && i <= e2) {\n      const prevChild = c1[i];\n      const nextChild = c2[i];\n      if (!isSameVNodeType(prevChild, nextChild)) {\n        break;\n      }\n      patch(prevChild, nextChild, container, parentComponent, parentAnchor);\n      i++;\n    }\n\n    while (i <= e1 && i <= e2) {\n      const prevChild = c1[e1];\n      const nextChild = c2[e2];\n      if (!isSameVNodeType(prevChild, nextChild)) {\n        break;\n      }\n      patch(prevChild, nextChild, container, parentComponent, parentAnchor);\n      e1--;\n      e2--;\n    }\n\n    if (i > e1 && i <= e2) {\n      const nextPos = e2 + 1;\n      const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;\n      while (i <= e2) {\n        patch(null, c2[i], container, parentComponent, anchor);\n        i++;\n      }\n    } else if (i > e2 && i <= e1) {\n      while (i <= e1) {\n        hostRemove(c1[i].el);\n        i++;\n      }\n    } else {\n      let s1 = i;\n      let s2 = i;\n      const keyToNewIndexMap = new Map();\n      let moved = false;\n      let maxNewIndexSoFar = 0;\n\n      for (let i = s2; i <= e2; i++) {\n        const nextChild = c2[i];\n        keyToNewIndexMap.set(nextChild.key, i);\n      }\n\n      const toBePatched = e2 - s2 + 1;\n      let patched = 0;\n      const newIndexToOldIndexMap = new Array(toBePatched);\n      for (let i = 0; i < toBePatched; i++) {\n        newIndexToOldIndexMap[i] = 0;\n      }\n\n      for (i = s1; i <= e1; i++) {\n        const prevChild = c1[i];\n\n        if (patched >= toBePatched) {\n          hostRemove(prevChild.el);\n          continue;\n        }\n\n        let newIndex;\n        if (prevChild.key != null) {\n          newIndex = keyToNewIndexMap.get(prevChild.key);\n        } else {\n          for (let j = s2; j <= e2; j++) {\n            if (isSameVNodeType(prevChild, c2[j])) {\n              newIndex = j;\n              break;\n            }\n          }\n        }\n\n        if (newIndex === undefined) {\n          hostRemove(prevChild.el);\n        } else {\n          newIndexToOldIndexMap[newIndex - s2] = i + 1;\n          if (newIndex >= maxNewIndexSoFar) {\n            maxNewIndexSoFar = newIndex;\n          } else {\n            moved = true;\n          }\n          patch(prevChild, c2[newIndex], container, parentComponent, null);\n          patched++;\n        }\n      }\n\n      const increasingNewIndexSequence = moved\n        ? getSequence(newIndexToOldIndexMap)\n        : [];\n      let j = increasingNewIndexSequence.length - 1;\n\n      for (let i = toBePatched - 1; i >= 0; i--) {\n        const nextIndex = s2 + i;\n        const nextChild = c2[nextIndex];\n        const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;\n\n        if (newIndexToOldIndexMap[i] === 0) {\n          patch(null, nextChild, container, parentComponent, anchor);\n        } else if (moved) {\n          if (j < 0 || i !== increasingNewIndexSequence[j]) {\n            hostInsert(nextChild.el, container, anchor);\n          } else {\n            j--;\n          }\n        }\n      }\n    }\n  }\n\n  function getSequence(arr: number[]): number[] {\n    const p = arr.slice();\n    const result = [0];\n    let i, j, u, v, c;\n    const len = arr.length;\n    for (i = 0; i < len; i++) {\n      const arrI = arr[i];\n      if (arrI !== 0) {\n        j = result[result.length - 1];\n        if (arr[j] < arrI) {\n          p[i] = j;\n          result.push(i);\n          continue;\n        }\n        u = 0;\n        v = result.length - 1;\n        while (u < v) {\n          c = (u + v) >> 1;\n          if (arr[result[c]] < arrI) {\n            u = c + 1;\n          } else {\n            v = c;\n          }\n        }\n        if (arrI < arr[result[u]]) {\n          if (u > 0) {\n            p[i] = result[u - 1];\n          }\n          result[u] = i;\n        }\n      }\n    }\n    u = result.length;\n    v = result[u - 1];\n    while (u-- > 0) {\n      result[u] = v;\n      v = p[v];\n    }\n    return result;\n  }\n\n  function mountElement(vnode, container, anchor) {\n    const el = (vnode.el = hostCreateElement(vnode.type));\n\n    const { children, shapeFlag } = vnode;\n\n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n      hostSetElementText(el, children);\n    } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n      mountChildren(children, el);\n    }\n\n    const { props } = vnode;\n    for (const key in props) {\n      const nextVal = props[key];\n      hostPatchProp(el, key, null, nextVal);\n    }\n\n    hostInsert(el, container, anchor);\n  }\n\n  function mountChildren(children, container) {\n    children.forEach((v) => {\n      patch(null, v, container);\n    });\n  }\n\n  function processComponent(n1, n2, container, parentComponent) {\n    if (!n1) {\n      mountComponent(n2, container, parentComponent);\n    } else {\n      updateComponent(n1, n2, container);\n    }\n  }\n\n  function updateComponent(n1, n2, container) {\n    const instance = (n2.component = n1.component);\n\n    if (shouldUpdateComponent(n1, n2)) {\n      instance.next = n2;\n      instance.update();\n    } else {\n      n2.component = n1.component;\n      n2.el = n1.el;\n      instance.vnode = n2;\n    }\n  }\n\n  function mountComponent(initialVNode, container, parentComponent) {\n    const instance = (initialVNode.component = createComponentInstance(\n      initialVNode,\n      parentComponent\n    ));\n\n    setupComponent(instance);\n\n    setupRenderEffect(instance, initialVNode, container);\n  }\n\n  function setupRenderEffect(instance, initialVNode, container) {\n    function componentUpdateFn() {\n      if (!instance.isMounted) {\n        const { proxy } = instance;\n        const subTree = (instance.subTree = instance.render.call(proxy));\n\n        patch(null, subTree, container, instance);\n\n        initialVNode.el = subTree.el;\n\n        instance.isMounted = true;\n      } else {\n        const { next, vnode } = instance;\n        if (next) {\n          next.el = vnode.el;\n          updateComponentPreRender(instance, next);\n        }\n\n        const { proxy } = instance;\n        const nextTree = instance.render.call(proxy);\n        const prevTree = instance.subTree;\n\n        instance.subTree = nextTree;\n\n        patch(prevTree, nextTree, container, instance);\n      }\n    }\n\n    instance.update = effect(componentUpdateFn);\n  }\n\n  function updateComponentPreRender(instance, nextVNode) {\n    instance.vnode = nextVNode;\n    instance.next = null;\n\n    instance.props = nextVNode.props;\n  }\n\n  return {\n    render,\n    createApp: createAppAPI(render),\n  };\n}\n","import { createRenderer } from \"../runtime-core\";\n\nfunction createElement(type) {\n  return document.createElement(type);\n}\n\nfunction setElementText(el, text) {\n  el.textContent = text;\n}\n\nfunction patchProp(el, key, preValue, nextValue) {\n  const isOn = (key: string) => /^on[A-Z]/.test(key);\n  if (isOn(key)) {\n    const event = key.slice(2).toLowerCase();\n    el.addEventListener(event, nextValue);\n  } else {\n    if (nextValue == null || nextValue === \"\") {\n      el.removeAttribute(key);\n    } else {\n      el.setAttribute(key, nextValue);\n    }\n  }\n}\n\nfunction insert(child, parent, anchor = null) {\n  parent.insertBefore(child, anchor);\n}\n\nfunction remove(child) {\n  const parent = child.parentNode;\n  if (parent) {\n    parent.removeChild(child);\n  }\n}\n\nconst render: any = createRenderer({\n  createElement,\n  patchProp,\n  insert,\n  setElementText,\n  remove,\n});\n\nexport const createApp = (...args) => {\n  return render.createApp(...args);\n};\n\nexport * from \"../runtime-core\";\n"],"names":[],"mappings":"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"}